# Claude Code 入门指南 | Getting Started with Claude Code

> 学习如何与 Claude Code 高效协作，提升开发效率
> Learn how to collaborate effectively with Claude Code for improved productivity

---

## 📖 什么是 Claude Code?

**Claude Code** 是 Anthropic 推出的 AI 编程助手，能够：

- ✅ 理解和编写代码
- ✅ 分析和调试问题
- ✅ 生成和优化文档
- ✅ 执行代码重构
- ✅ 提供技术建议

**核心优势**：
- 💡 深度理解上下文
- 🔍 细致的代码分析
- 📝 高质量文档生成
- 🛠️ 实用的解决方案

---

## 🎯 基本工作流程

### 1. 明确任务目标

**人类的职责**：
- 清晰描述要解决的问题
- 提供必要的背景信息
- 明确期望的结果

**示例提示**：
```
我正在开发一个代码质量监控工具，需要修复一个 Bug：
日报中"加班提交"次数显示为空。

相关文件：scripts/send-to-dingtalk.sh
问题位置：第 35 行左右

请帮我分析问题原因并提供修复方案。
```

**Claude Code 的响应**：
- 分析问题根因
- 提供代码修复方案
- 解释改进思路
- 建议测试方法

---

### 2. 迭代式开发

**最佳实践**：

1. **从核心功能开始**
   ```
   ❌ 不要说："帮我做一个完整的代码质量系统"
   ✅ 应该说："先实现 Git 提交统计功能"
   ```

2. **逐步完善**
   ```
   第一步：实现基本统计
   第二步：添加可视化
   第三步：集成通知推送
   第四步：优化性能
   ```

3. **及时反馈**
   ```
   "这个方案很好，但我们的项目使用 Python 3.8，
   请不要使用 3.9+ 的新特性"
   ```

---

### 3. 代码审查与优化

**人类检查点**：
- ✅ 代码是否符合项目规范
- ✅ 是否有安全漏洞
- ✅ 性能是否满足要求
- ✅ 是否有边界情况未处理

**Claude Code 可以帮助**：
```
"请审查这段代码，检查：
1. 是否有安全问题
2. 是否考虑了边界情况
3. 是否有性能优化空间
4. 代码可读性如何改进"
```

---

## 💡 高效协作技巧

### Tip 1: 提供足够的上下文

**不够好的提示**：
```
帮我优化这个函数
```

**更好的提示**：
```
请优化这个函数：daily_report.py 中的 calculate_stats()

当前问题：
- 处理 1000+ 提交记录时很慢（约 30 秒）
- 内存占用较高

期望：
- 减少处理时间到 10 秒以内
- 降低内存使用
```

---

### Tip 2: 分解复杂任务

**一次性请求**（不推荐）：
```
帮我创建完整的开源项目，包括所有文档、CI/CD、测试
```

**分步请求**（推荐）：
```
步骤 1：帮我创建 README.md，包括项目简介、安装说明
步骤 2：创建 CONTRIBUTING.md 贡献指南
步骤 3：添加 GitHub Actions CI 配置
步骤 4：编写单元测试框架
```

---

### Tip 3: 明确文件路径

**模糊的请求**：
```
修改配置文件
```

**明确的请求**：
```
请修改 config.example.yaml 文件，
在 notification.dingtalk 部分添加 timeout 配置项，
默认值设为 10 秒
```

---

### Tip 4: 指定输出格式

**未指定格式**：
```
解释一下这个脚本的作用
```

**指定格式**：
```
请分析 run.sh 脚本，用以下格式输出：

1. 脚本功能摘要（1-2 句话）
2. 主要步骤（分点列出）
3. 依赖的外部命令
4. 可能的改进点
```

---

## 🚀 实战场景

### 场景 1: Bug 修复

**人类发现问题**：
```
Bug 描述：日报推送时，加班次数显示为空

环境：
- macOS 13.0
- 使用 Bash 脚本
- 调用 grep 和 sed 命令
```

**Claude Code 分析**：
- 定位问题代码
- 识别根本原因（grep 模糊匹配 + macOS 兼容性）
- 提供修复方案
- 建议跨平台测试

**人类验证**：
- 在 macOS 和 Linux 上测试
- 确认修复有效
- 记录到知识库

---

### 场景 2: 文档编写

**人类提供框架**：
```
帮我写一个 README.md，项目是代码质量监控工具

包括这些部分：
1. 项目简介
2. 核心功能
3. 快速开始
4. 配置说明
5. 贡献指南
```

**Claude Code 生成**：
- 结构完整的 README
- 代码示例
- 配置说明
- 贡献指引

**人类完善**：
- 添加项目截图
- 调整语言风格
- 补充特定细节

---

### 场景 3: 代码重构

**人类识别问题**：
```
scripts/send-to-dingtalk.sh 中硬编码了很多配置，
不利于维护和开源

请帮我重构，改为从配置文件读取
```

**Claude Code 重构**：
- 提取配置到 config.yaml
- 修改脚本读取逻辑
- 创建配置模板 config.example.yaml
- 更新 .gitignore

**人类审查**：
- 检查配置覆盖是否完整
- 测试各种配置场景
- 确保向后兼容

---

## 📋 常见问题

### Q1: Claude Code 能直接修改我的代码吗？

**A**: 不能自动修改。Claude Code 会：
1. 分析你的代码
2. 提供修改建议和完整代码
3. 等待你确认和应用

**你需要**：
- 审查建议的代码
- 手动应用修改
- 测试验证结果

---

### Q2: 如何避免 AI 生成不安全的代码？

**最佳实践**：
1. **明确安全要求**
   ```
   "请确保代码：
   - 验证所有用户输入
   - 使用参数化查询（防 SQL 注入）
   - 不在日志中输出敏感信息"
   ```

2. **要求安全审查**
   ```
   "请审查这段代码的安全性，特别关注：
   - 命令注入风险
   - XSS 漏洞
   - 敏感信息泄露"
   ```

3. **使用工具辅助**
   - 代码扫描工具（如 Bandit、ESLint）
   - 人工审查关键部分

---

### Q3: Claude Code 适合处理什么类型的任务？

**✅ 适合的任务**：
- 代码编写和重构
- Bug 分析和修复
- 文档生成和优化
- 技术方案设计
- 代码审查建议
- 脚本自动化

**⚠️ 需要人类判断的**：
- 架构决策（需结合业务）
- 性能要求权衡
- 安全敏感操作
- 涉及商业机密的内容

---

## 🎯 下一步

### 推荐学习路径：

1. **阅读实战教程**
   - [开源项目启动全流程](02-open-source-project.md) ⭐ 强烈推荐
   - 完整的 7 天开发案例
   - 20+ 个实际提示词示例

2. **学习专项工作流**
   - [Bug 追踪体系搭建](03-bug-tracking-system.md)
   - [文档工作流](04-documentation-workflow.md)

3. **使用模板库**
   - [Bug 记录模板](../templates/bug-template.md)
   - [项目文档模板](../templates/project-template.md)

4. **查看案例研究**
   - [Code Health Monitor 案例](../case-studies/code-health-monitor/)

---

## 💡 核心原则

### 人类专注于：
- 🎯 **目标设定**：明确要解决什么问题
- 🔍 **质量把控**：审查代码质量和安全性
- 💼 **业务决策**：结合业务场景做判断
- ✅ **最终验证**：测试和确认结果

### AI 专注于：
- 💡 **方案生成**：提供解决方案和代码实现
- 📝 **文档编写**：生成结构化文档
- 🔧 **代码优化**：重构和改进代码
- 🐛 **问题分析**：定位 Bug 根因

### 协作成功的关键：
1. ✅ **清晰沟通**：准确描述需求和上下文
2. ✅ **迭代反馈**：及时反馈结果，持续优化
3. ✅ **合理分工**：人类决策，AI 执行
4. ✅ **质量把关**：人类审查 AI 输出

---

**创建时间**: 2026-01-05
**适用对象**: 所有希望提升 AI 辅助开发效率的工程师
**预计阅读时间**: 15 分钟

**开始你的第一个协作项目** 👉 [开源项目启动教程](02-open-source-project.md)
